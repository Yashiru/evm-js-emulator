import { UInt256 } from '../src/uint256';
import { storeSignature } from './test-utils';

export const NVM_BYTECODE = '61169980600a3d393df3600060206103400352610200611499602039600051803560f81c906001016000526002026020015160f01c565b7f6e6f7420696d706c656d656e7465643a0000000000000000000000000000000060107f41304fac00000000000000000000000000000000000000000000000000000000612000526020612000600401526120006020016004015261200060400160040152600060006101006120006a636f6e736f6c652e6c6f675afa50807ff5b1bba90000000000000000000000000000000000000000000000000000000061200052612000600401526000600060246120006a636f6e736f6c652e6c6f675afa505b00600051803560f81c906001016000526002026020015160f01c565b01600051803560f81c906001016000526002026020015160f01c565b02600051803560f81c906001016000526002026020015160f01c565b03600051803560f81c906001016000526002026020015160f01c565b04600051803560f81c906001016000526002026020015160f01c565b05600051803560f81c906001016000526002026020015160f01c565b06600051803560f81c906001016000526002026020015160f01c565b07600051803560f81c906001016000526002026020015160f01c565b08600051803560f81c906001016000526002026020015160f01c565b09600051803560f81c906001016000526002026020015160f01c565b0a600051803560f81c906001016000526002026020015160f01c565b0b600051803560f81c906001016000526002026020015160f01c565b10600051803560f81c906001016000526002026020015160f01c565b11600051803560f81c906001016000526002026020015160f01c565b12600051803560f81c906001016000526002026020015160f01c565b13600051803560f81c906001016000526002026020015160f01c565b14600051803560f81c906001016000526002026020015160f01c565b15600051803560f81c906001016000526002026020015160f01c565b16600051803560f81c906001016000526002026020015160f01c565b17600051803560f81c906001016000526002026020015160f01c565b18600051803560f81c906001016000526002026020015160f01c565b19600051803560f81c906001016000526002026020015160f01c565b1a600051803560f81c906001016000526002026020015160f01c565b1b600051803560f81c906001016000526002026020015160f01c565b1c600051803560f81c906001016000526002026020015160f01c565b1d600051803560f81c906001016000526002026020015160f01c565b20600051803560f81c906001016000526002026020015160f01c565b30600051803560f81c906001016000526002026020015160f01c565b31600051803560f81c906001016000526002026020015160f01c565b32600051803560f81c906001016000526002026020015160f01c565b33600051803560f81c906001016000526002026020015160f01c565b34600051803560f81c906001016000526002026020015160f01c565b506000600051803560f81c906001016000526002026020015160f01c565b6000600051803560f81c906001016000526002026020015160f01c565b905061034001369037600051803560f81c906001016000526002026020015160f01c565b36600051803560f81c906001016000526002026020015160f01c565b36600051803560f81c906001016000526002026020015160f01c565b3a600051803560f81c906001016000526002026020015160f01c565b3b600051803560f81c906001016000526002026020015160f01c565b3c600051803560f81c906001016000526002026020015160f01c565b3d600051803560f81c906001016000526002026020015160f01c565b3e600051803560f81c906001016000526002026020015160f01c565b3f600051803560f81c906001016000526002026020015160f01c565b40600051803560f81c906001016000526002026020015160f01c565b41600051803560f81c906001016000526002026020015160f01c565b42600051803560f81c906001016000526002026020015160f01c565b43600051803560f81c906001016000526002026020015160f01c565b44600051803560f81c906001016000526002026020015160f01c565b45600051803560f81c906001016000526002026020015160f01c565b46600051803560f81c906001016000526002026020015160f01c565b47600051803560f81c906001016000526002026020015160f01c565b61002c565b50600051803560f81c906001016000526002026020015160f01c565b6103400151600051803560f81c906001016000526002026020015160f01c565b6103400152600051803560f81c906001016000526002026020015160f01c565b6103400153600051803560f81c906001016000526002026020015160f01c565b54600051803560f81c906001016000526002026020015160f01c565b55600051803560f81c906001016000526002026020015160f01c565b803560f81c90600101600052605b141561077757600051803560f81c906001016000526002026020015160f01c565b7f657870656374696e67204a554d5044455354206f70636f64650000000000000060197f41304fac00000000000000000000000000000000000000000000000000000000612000526020612000600401526120006020016004015261200060400160040152600060006101006120006a636f6e736f6c652e6c6f675afa5060006000fd5b9061074857600051803560f81c906001016000526002026020015160f01c565b600160005103600051803560f81c906001016000526002026020015160f01c565b6000610340015903600051803560f81c906001016000526002026020015160f01c565b5a600051803560f81c906001016000526002026020015160f01c565b600051803560f81c906001016000526002026020015160f01c565b60018060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60028060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60038060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60048060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60058060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60068060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60078060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60088060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60098060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600a8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600b8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600c8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600d8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600e8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b600f8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60108060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60118060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60128060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60138060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60148060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60158060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60168060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60178060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60188060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60198060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601a8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601b8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601c8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601d8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601e8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b601f8060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b60208060200360005135906008021c9060005101600052600051803560f81c906001016000526002026020015160f01c565b80600051803560f81c906001016000526002026020015160f01c565b81600051803560f81c906001016000526002026020015160f01c565b82600051803560f81c906001016000526002026020015160f01c565b83600051803560f81c906001016000526002026020015160f01c565b84600051803560f81c906001016000526002026020015160f01c565b85600051803560f81c906001016000526002026020015160f01c565b86600051803560f81c906001016000526002026020015160f01c565b87600051803560f81c906001016000526002026020015160f01c565b88600051803560f81c906001016000526002026020015160f01c565b89600051803560f81c906001016000526002026020015160f01c565b8a600051803560f81c906001016000526002026020015160f01c565b8b600051803560f81c906001016000526002026020015160f01c565b8c600051803560f81c906001016000526002026020015160f01c565b8d600051803560f81c906001016000526002026020015160f01c565b8e600051803560f81c906001016000526002026020015160f01c565b8f600051803560f81c906001016000526002026020015160f01c565b90600051803560f81c906001016000526002026020015160f01c565b91600051803560f81c906001016000526002026020015160f01c565b92600051803560f81c906001016000526002026020015160f01c565b93600051803560f81c906001016000526002026020015160f01c565b94600051803560f81c906001016000526002026020015160f01c565b95600051803560f81c906001016000526002026020015160f01c565b96600051803560f81c906001016000526002026020015160f01c565b97600051803560f81c906001016000526002026020015160f01c565b98600051803560f81c906001016000526002026020015160f01c565b99600051803560f81c906001016000526002026020015160f01c565b9a600051803560f81c906001016000526002026020015160f01c565b9b600051803560f81c906001016000526002026020015160f01c565b9c600051803560f81c906001016000526002026020015160f01c565b9d600051803560f81c906001016000526002026020015160f01c565b9e600051803560f81c906001016000526002026020015160f01c565b9f600051803560f81c906001016000526002026020015160f01c565ba0600051803560f81c906001016000526002026020015160f01c565ba1600051803560f81c906001016000526002026020015160f01c565ba2600051803560f81c906001016000526002026020015160f01c565ba3600051803560f81c906001016000526002026020015160f01c565ba4600051803560f81c906001016000526002026020015160f01c565b61002c565b926103400192946103400194f1600051803560f81c906001016000526002026020015160f01c565b926103400192946103400194f2600051803560f81c906001016000526002026020015160f01c565b61034001f35b916103400191936103400193f4600051803560f81c906001016000526002026020015160f01c565b61002c565b916103400191936103400193fa600051803560f81c906001016000526002026020015160f01c565bfd600051803560f81c906001016000526002026020015160f01c565bfe600051803560f81c906001016000526002026020015160f01c565b60006000fd5b7f756e6b6e6f776e206f70636f64653a0000000000000000000000000000000000600f7f41304fac00000000000000000000000000000000000000000000000000000000612000526020612000600401526120006020016004015261200060400160040152600060006101006120006a636f6e736f6c652e6c6f675afa50807ff5b1bba90000000000000000000000000000000000000000000000000000000061200052612000600401526000600060246120006a636f6e736f6c652e6c6f675afa5060006000fd00f0010c012801440160017c019801b401d001ec0208022413d013d013d013d00240025c0278029402b002cc02e803040320033c03580374039003ac13d013d003c813d013d013d013d013d013d013d013d013d013d013d013d013d013d013d003e40400041c043804540470048e04ab04cf04eb05070523053f055b0577059305af05cb05e70603061f063b06570673068f13d013d013d013d013d013d013d0069406b006d006f00710072c074807fb081b083c085f087b13d013d013d013d0089608c808fa092c095e099009c209f40a260a580a8a0abc0aee0b200b520b840bb60be80c1a0c4c0c7e0cb00ce20d140d460d780daa0ddc0e0e0e400e720ea40ed60ef20f0e0f2a0f460f620f7e0f9a0fb60fd20fee100a10261042105e107a109610b210ce10ea11061122113e115a1176119211ae11ca11e61202121e123a12561272128e12aa12c613d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d013d012e212e7130f1337133d136513d013d013d013d0136a13d013d0139213ae13ca';

export const DOUBLE_SWAP = {
    NATIVE_BYTECODE: '608060405234801561001057600080fd5b50610677806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c806364c2c78514610030575b600080fd5b61003861003a565b005b60405163095ea7b360e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d6004820152600019602482015273a0b86991c6218b36c1d19d4a2e9eb0ce3606eb489063095ea7b3906044016020604051808303816000875af11580156100a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100cb919061043b565b506040805160028082526060820183524792600092919060208301908036833701905050905073a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48816000815181106101195761011961047a565b60200260200101906001600160a01b031690816001600160a01b03168152505073c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2816001815181106101615761016161047a565b6001600160a01b03909216602092830291909101909101526040516318cbafe560e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d906318cbafe5906101bd906305f5e100906000908690309042906004016104d4565b6000604051808303816000875af11580156101dc573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526102049190810190610510565b50600061021183476105ce565b6040516370a0823160e01b8152306004820152909150600090736b175474e89094c44da98b954eedeac495271d0f906370a0823190602401602060405180830381865afa158015610266573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061028a91906105f3565b905073c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2836000815181106102b4576102b461047a565b60200260200101906001600160a01b031690816001600160a01b031681525050736b175474e89094c44da98b954eedeac495271d0f836001815181106102fc576102fc61047a565b6001600160a01b0390921660209283029190910190910152604051637ff36ab560e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d90637ff36ab59084906103549060009088903090429060040161060c565b60006040518083038185885af1158015610372573d6000803e3d6000fd5b50505050506040513d6000823e601f3d908101601f1916820160405261039b9190810190610510565b506040516370a0823160e01b81523060048201526000908290736b175474e89094c44da98b954eedeac495271d0f906370a0823190602401602060405180830381865afa1580156103f0573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041491906105f3565b61041e91906105ce565b90506622d10c4ecc800081101561043457600080fd5b5050505050565b60006020828403121561044d57600080fd5b8151801515811461045d57600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600081518084526020808501945080840160005b838110156104c95781516001600160a01b0316875295820195908201906001016104a4565b509495945050505050565b85815284602082015260a0604082015260006104f360a0830186610490565b6001600160a01b0394909416606083015250608001529392505050565b6000602080838503121561052357600080fd5b825167ffffffffffffffff8082111561053b57600080fd5b818501915085601f83011261054f57600080fd5b81518181111561056157610561610464565b8060051b604051601f19603f8301168101818110858211171561058657610586610464565b6040529182528482019250838101850191888311156105a457600080fd5b938501935b828510156105c2578451845293850193928501926105a9565b98975050505050505050565b6000828210156105ee57634e487b7160e01b600052601160045260246000fd5b500390565b60006020828403121561060557600080fd5b5051919050565b8481526080602082015260006106256080830186610490565b6001600160a01b0394909416604083015250606001529291505056fea26469706673582212206dd229cb0465d58d1ec3f723bc5432b2094df4e6fd214492f3f8245d305b08f564736f6c634300080f0033',
    NVM_BYTECODE: '608060405234801561001057600080fd5b5060405163095ea7b360e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d6004820152600019602482015273a0b86991c6218b36c1d19d4a2e9eb0ce3606eb489063095ea7b3906044016020604051808303816000875af115801561007e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100a29190610415565b506040805160028082526060820183524792600092919060208301908036833701905050905073a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48816000815181106100f0576100f0610454565b60200260200101906001600160a01b031690816001600160a01b03168152505073c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28160018151811061013857610138610454565b6001600160a01b03909216602092830291909101909101526040516318cbafe560e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d906318cbafe590610194906305f5e100906000908690309042906004016104ae565b6000604051808303816000875af11580156101b3573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526101db91908101906104ea565b5060006101e883476105a7565b6040516370a0823160e01b8152306004820152909150600090736b175474e89094c44da98b954eedeac495271d0f906370a0823190602401602060405180830381865afa15801561023d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061026191906105cc565b905073c02aaa39b223fe8d0a0e5c4f27ead9083c756cc28360008151811061028b5761028b610454565b60200260200101906001600160a01b031690816001600160a01b031681525050736b175474e89094c44da98b954eedeac495271d0f836001815181106102d3576102d3610454565b6001600160a01b0390921660209283029190910190910152604051637ff36ab560e01b8152737a250d5630b4cf539739df2c5dacb4c659f2488d90637ff36ab590849061032b906000908890309042906004016105e5565b60006040518083038185885af1158015610349573d6000803e3d6000fd5b50505050506040513d6000823e601f3d908101601f1916820160405261037291908101906104ea565b506040516370a0823160e01b81523060048201526000908290736b175474e89094c44da98b954eedeac495271d0f906370a0823190602401602060405180830381865afa1580156103c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103eb91906105cc565b6103f591906105a7565b90506622d10c4ecc800081101561040b57600080fd5b505050505061061a565b60006020828403121561042757600080fd5b8151801515811461043757600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600081518084526020808501945080840160005b838110156104a35781516001600160a01b03168752958201959082019060010161047e565b509495945050505050565b85815284602082015260a0604082015260006104cd60a083018661046a565b6001600160a01b0394909416606083015250608001529392505050565b600060208083850312156104fd57600080fd5b82516001600160401b038082111561051457600080fd5b818501915085601f83011261052857600080fd5b81518181111561053a5761053a61043e565b8060051b604051601f19603f8301168101818110858211171561055f5761055f61043e565b60405291825284820192508381018501918883111561057d57600080fd5b938501935b8285101561059b57845184529385019392850192610582565b98975050505050505050565b6000828210156105c757634e487b7160e01b600052601160045260246000fd5b500390565b6000602082840312156105de57600080fd5b5051919050565b8481526080602082015260006105fe608083018661046a565b6001600160a01b03949094166040830152506060015292915050565b610127806106296000396000f3fe6080604052348015600f57600080fd5b506004361060505760003560e01c8063735de9f714605557806389a3027114608c578063ad5c46481460a6578063e0bab4c41460c0578063f682bbf61460da575b600080fd5b606f737a250d5630b4cf539739df2c5dacb4c659f2488d81565b6040516001600160a01b0390911681526020015b60405180910390f35b606f73a0b86991c6218b36c1d19d4a2e9eb0ce3606eb4881565b606f73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc281565b606f736b175474e89094c44da98b954eedeac495271d0f81565b60e46305f5e10081565b604051908152602001608356fea2646970667358221220d4845c1a85a87339c85663b4d6d2caea9c79e8fbceee012950d849eda665f1e464736f6c634300080f0033',
};


// solc tests/contracts/Dummy.sol  --bin
//  ... but I removed the deployment header (see: solc tests/contracts/Dummy.sol  --asm)
export const DUMMY = {
    BYTECODE: '608060405234801561001057600080fd5b50610150806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80634c0811381461003b57806357de26a414610057575b600080fd5b610055600480360381019061005091906100c3565b610075565b005b61005f61007f565b60405161006c91906100ff565b60405180910390f35b8060008190555050565b60008054905090565b600080fd5b6000819050919050565b6100a08161008d565b81146100ab57600080fd5b50565b6000813590506100bd81610097565b92915050565b6000602082840312156100d9576100d8610088565b5b60006100e7848285016100ae565b91505092915050565b6100f98161008d565b82525050565b600060208201905061011460008301846100f0565b9291505056fea264697066735822122005423a9444d314e0e7b2cd4bfd07c44339d8d9f826f414e6b15941adf8e719bf64736f6c634300080f0033',

    CALL_SETTER: (deployedDummy: UInt256) => new Uint8Array([
        // store signature
        ...storeSignature(0, DUMMY['assign(uint256)']),

        // store arg value
        0x60, 0x42, // push1 0x42 (value)
        0x60, 0x04, // push1 0 (offset)
        0x52, // mstore

        // perform call
        0x60, 0x0, // push1 0 (retSize)
        0x60, 0x0, // push1 0 (retOffset)
        0x60, 0x24, // push1 0x24 (argSize)
        0x60, 0x00, // push1 0x20 (argOffset)
        0x60, 0x00, // push1 0x00 (value)
        0x7f, ...deployedDummy.toByteArray(), // push32 contract (contract)
        0x7f, ...Array(32).fill(0xff), // push32 0xfff... (gas)
        0xf1, // call
    ]),

    //  solc tests/contracts/Dummy.sol  --hashes
    'assign(uint256)': '4c081138',
    'read()': '57de26a4',
};